<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <title>Liste: The Smart Shopping List</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="navbar-inner">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Liste</a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <form class="navbar-form navbar-right">
                <input type="text" class="form-control" placeholder="Search...">
              </form>
              <li><a href="#about">About</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </head>

  <body>
  <div class="centered">
    <h1>Make your shopping list!</h1>
    <!-- http://stackoverflow.com/questions/3446084/jquery-how-can-i-dynamically-add-a-list-item-to-an-unordered-list-->
    <p>The main list is a list of items that you want to buy every week. The side list is comprised of items that you only need to buy this one time. After making your list, click the email button to mail a copy of the list to yourself!</p>


    <form action="#" method="get">
      Item: <input type="text" id="next_item">
      <button type="submit" class="btn btn-default btn-add-panel" id="mainbutton"><span class="glyphicon glyphicon-pencil"></span> Add (main list)</button>
      <button type="submit" class="btn btn-default btn-add-panel2" id="sidebutton"><span class="glyphicon glyphicon-pencil"></span> Add (side list)</button>
    </form>
    <br>
  </div>
    <!-- Main List -->
    <div class="col-xs-6">
    <h3>Weeklies</h3>
      <div class="panel-group" id="accordion">
        <div class="panel panel-default template">

          <div class="panel-heading">
            <h4 class="panel-title">
              <a class="accordion-toggle" data-toggle="collapse" data-parent="#collapseOne" href="#collapseOne">
                Example
              </a>
            </h4>
          </div>

          <div id="collapseOne" class="panel-collapse collapse">
            <div class="panel-body">
              Item description goes here.
              <br><br>
              <button type="submit" class="btn btn-default btn-del-panel"><span class="glyphicon glyphicon-remove"></span> Remove</button>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Side List -->
    <div class="col-xs-6">
    <h3>One-offs</h3>
      <div class="panel-group" id="accordion2">
        <div class="panel panel-default template2">

          <div class="panel-heading" id="sidekick">
            <h4 class="panel-title">
              <a class="accordion-toggle" data-toggle="collapse" data-parent="#collapseOneSide" href="#collapseOneSide">
                Example
              </a>
            </h4>
          </div>

          <div id="collapseOneSide" class="panel-collapse collapse">
            <div class="panel-body">
              Item description goes here.
              <br><br>
              <button type="submit" class="btn btn-default btn-del-panel"><span class="glyphicon glyphicon-remove"></span> Remove</button>
            </div>
          </div>

        </div>
      </div>
    </div>

    <footer class="footer">
      <button type="submit" class="btn btn-default btn-email"><span class="glyphicon glyphicon-envelope"></span> Email your list</button>

      <p class="text-muted">Made at Bitcamp 2014 by Adam Almonte, Kyle Goodwill, Amanda Kobiolka, and Geoff Yip</p>
      <a href="https://github.com/kgoodwill/liste"><img src="img/Github_Logo.png"></a>
      <br><!--
      <a href="https://twitter.com/share" class="twitter-share-button" data-lang="en">Tweet</a> -->
    </footer>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/hammer.min.js"></script>
    <script src="js/jquery.hammer.min.js"></script>

    <script>
    /*
      $(document).on("click", ":submit", function(e){
        alert($(this).val());
      });*/

      var $template = $(".template");
      var $template2 = $(".template2");
      var hash = 1;
      var hash2 = 1000;
      var $newestPanel = $(".template");
      $(".btn-add-panel").on("click", function () {

        var item = $('#next_item').val();
        if (item != ""){
          var $newPanel = $template.clone();
          $newPanel.find(".collapse").removeClass("in");
          $newPanel.find(".accordion-toggle").attr("href",  "#" + (++hash))
                    .text(item);
                   //.text("Dynamic panel #" + hash);
          $newPanel.find(".panel-collapse").attr("id", hash).addClass("collapse").removeClass("in");
          $("#accordion").append($newPanel.fadeIn());
          $newestPanel = $(".newPanel");
        }
      });

      $(".btn-add-panel2").on("click", function () {
        var item2 = $('#next_item').val();
        if (item2 != ""){
          var $newPanel2 = $template2.clone();
          $newPanel2.find(".collapse").removeClass("in");
          $newPanel2.find(".accordion-toggle").attr("href",  "#" + (++hash2))
                    .text(item2);
          $newPanel2.find(".panel-collapse").attr("id", hash2).addClass("collapse").removeClass("in");
          $("#accordion2").append($newPanel2.fadeIn());
          $newestPanel = $(".newPanel2");
        }
      });

        window.addEventListener('load', function() { 
        var element = document.getElementById('sidekick');
        var hammertime = Hammer(element).on("hold", function(event) {
          var $newPanel3 = $newestPanel.clone();

          $("#accordion").append($newPanel3.fadeIn());
        })
      }, false);

      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

    </script>

  </body>
</html>
